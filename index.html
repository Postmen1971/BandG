<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Galvanik Tools – Strom & Zeit</title>
<style>
  .topbar{position:sticky;top:0;background:#ffffffcc;backdrop-filter:blur(6px);border-bottom:1px solid #e5e7eb;padding:10px 12px;z-index:1000;display:flex;justify-content:center;gap:8px}
  .tabbtn{border:2px solid #002855;color:#002855;background:#fff;padding:10px 14px;border-radius:999px;cursor:pointer;font-weight:bold}
  .tabbtn.active{background:#F58025;color:#fff;border-color:#F58025}
  section.tab-pane{display:none}section.tab-pane.active{display:block}

  :root{--orange:#F58025;--darkblue:#002855;--lightgray:#f7f7f7}
  body{font-family:Arial,sans-serif;background:linear-gradient(to bottom right,var(--lightgray),#ffffff);margin:0;
        padding:30px max(20px, env(safe-area-inset-left)) 30px max(20px, env(safe-area-inset-right));
        display:flex;justify-content:center;flex-direction:column;align-items:center}
  .container{width:100%;max-width:500px;background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.06);position:relative;margin-top:16px}
  @media (max-width:430px){.container{padding:22px}label{font-size:16px}input,select,button{font-size:17px}.tabbtn{padding:10px 16px}}
  h2{text-align:center;color:var(--orange);margin-top:0}
  label{display:block;margin-top:16px;font-weight:bold;color:#002855}
  input[type=number]{width:100%;padding:10px;font-size:18px;margin-top:5px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box}
  .geschwindigkeit-reihe{display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin-top:10px}
  .geschwindigkeit-reihe label{background:#fff;border:2px solid #002855;border-radius:50%;width:34px;height:34px;text-align:center;line-height:30px;font-weight:bold;cursor:pointer;font-size:14px;color:#002855;transition:.2s}
  .geschwindigkeit-reihe label.active{background:#F58025;color:#fff;border-color:#F58025}
  .ergebnis{margin-top:24px;padding:14px;background:#f0f0f0;font-size:20px;text-align:center;border-radius:8px;color:#F58025;border:1px solid #ccc}
  .haftungshinweis{letter-spacing:.2px;text-align:center;font-size:12px;margin-top:10px;color:#888}
  #counter{position:fixed;bottom:4px;right:8px;font-size:10px;color:#ccc;font-family:monospace;opacity:.5;z-index:9999}

  .zeit-container .row{display:flex;gap:8px}
  .zeit-container select,.zeit-container button{width:100%;padding:10px;font-size:16px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box}
  .zeit-container button{background:#0066cc;color:#fff;border:none;font-weight:bold;cursor:pointer}
  .zeit-container button:hover{background:#004d99}
  .zeit-result{margin-top:16px;padding:12px;background:#e9f5e9;border-radius:6px;font-weight:bold;color:#0b4f0b;border:1px solid #bfe0bf}

  .panel{margin-top:12px;padding:10px;border-radius:6px;border:1px solid #e5e7eb}
  .tip-panel{background:#fff7ea;border-color:#f2c58a;color:#8a5400}
  .quote-panel{background:#eef5ff;border-color:#cbdcff;color:#143a66;font-style:italic}
  .panel h3{margin:0 0 6px 0;font-size:14px;color:#333;font-style:normal}
  .small{font-size:12px;color:#666}
</style>
</head>
<body>

<nav class="topbar">
  <button id="tabBtnStrom" class="tabbtn active">⚡ Stromrechner</button>
  <button id="tabBtnZeit" class="tabbtn">⏱️ Zeitrechner</button>
</nav>

<!-- Stromrechner -->
<section id="tab-strom" class="tab-pane active">
  <div class="container">
    <h2>Galvanik-Stromrechner</h2>

    <label for="istStrom">Aktueller Strom (A):</label>
    <input type="number" id="istStrom" placeholder="z. B. 4">

    <label for="istSchicht">Aktuelle Schichtdicke (µm):</label>
    <input type="number" id="istSchicht" placeholder="z. B. 1.0">

    <label for="zielSchicht">Ziel-Schichtdicke (µm):</label>
    <input type="number" id="zielSchicht" placeholder="z. B. 2.5">

    <label>Aktuelle Bandgeschwindigkeit (m/min):</label>
    <div class="geschwindigkeit-reihe" id="istGeschw">
      <script>document.write([...Array(14)].map((_,i)=>`<label data-value="${i+3}">${i+3}</label>`).join(''));</script>
    </div>

    <label>Neue Bandgeschwindigkeit (m/min):</label>
    <div class="geschwindigkeit-reihe" id="neuGeschw">
      <script>document.write([...Array(14)].map((_,i)=>`<label data-value="${i+3}">${i+3}</label>`).join(''));</script>
    </div>

    <div class="ergebnis" id="ergebnis">Ergebnis wird hier angezeigt</div>
    <div class="haftungshinweis">Alle Angaben ohne Gewähr – es wird keine Haftung übernommen.</div>
  </div>

  <div id="counter"></div>

  <script>
    let istWert=null, neuWert=null;
    function setupAbwahl(containerId,isIst){
      const labels=document.getElementById(containerId).querySelectorAll("label");
      labels.forEach(label=>{
        label.addEventListener("click",()=>{
          if(label.classList.contains("active")){
            label.classList.remove("active"); if(isIst) istWert=null; else neuWert=null;
          }else{
            labels.forEach(l=>l.classList.remove("active"));
            label.classList.add("active");
            if(isIst) istWert=parseFloat(label.dataset.value); else neuWert=parseFloat(label.dataset.value);
          }
          berechne();
        });
      });
    }
    function berechne(){
      const I_alt=parseFloat(document.getElementById("istStrom").value);
      const S_alt=parseFloat(document.getElementById("istSchicht").value);
      const S_neu=parseFloat(document.getElementById("zielSchicht").value);
      if(!I_alt||!S_alt||!S_neu){document.getElementById("ergebnis").innerText="Bitte alle Werte eingeben.";return;}
      if(neuWert!==null&&istWert===null){document.getElementById("ergebnis").innerText="Bitte auch aktuelle Geschwindigkeit auswählen.";return;}
      const V_alt=istWert||neuWert||1, V_neu=neuWert||V_alt;
      const I_neu=I_alt*(S_neu/S_alt)*(V_neu/V_alt);
      document.getElementById("ergebnis").innerText=`Benötigter Strom: ${I_neu.toFixed(2)} A`;
    }
    document.querySelectorAll("input").forEach(i=>i.addEventListener("input",berechne));
    setupAbwahl("istGeschw",true); setupAbwahl("neuGeschw",false);
    const key="galvanikCounter"; let count=localStorage.getItem(key); count=count?parseInt(count)+1:1;
    localStorage.setItem(key,count); document.getElementById("counter").innerText=`#${count}`;
  </script>
</section>

<!-- Zeitrechner + Tipps/Zitate -->
<section id="tab-zeit" class="tab-pane">
  <div class="container zeit-container">
    <h2>Galvanik-Zeitrechner</h2>

    <div class="row">
      <div style="flex:1">
        <label>Geschwindigkeit (m/min)</label>
        <select id="speedSel"></select>
      </div>
    </div>
    <div class="row">
      <div style="flex:1">
        <label>Startpunkt</label>
        <select id="startSel"></select>
      </div>
      <div style="flex:1">
        <label>Endpunkt</label>
        <select id="endSel"></select>
      </div>
    </div>

    <button id="calcBtn">Zeit berechnen</button>
    <div class="zeit-result" id="zeitResult">Bitte wähle Start, Ende und Geschwindigkeit.</div>

    <div class="panel tip-panel">
      <h3>Tipp des Tages</h3>
      <div id="tipOfDay">–</div>
      <div class="small">Wechselt automatisch täglich.</div>
    </div>

    <div class="panel quote-panel">
      <h3>Zitat des Tages (Allgemein)</h3>
      <div id="quoteGeneral">–</div>
    </div>
  </div>

  <script>
    /* --- Zeitmarken (Basis: 7 m/min) --- */
    /* Hinweis: Für Punkte, die real mit 6 m/min gemessen wurden, ist die Zeit hier bereits
       auf 7 m/min umgerechnet (Faktor 6/7). So bleibt das Modell konsistent. */
    const punkte=[
      ["Start","0:00"],
      ["Hot Wash","5:10"],
      ["Nickel 1","6:32"],
      ["Nickel 6","7:25"],
      ["Nickel 12","8:27"],
      ["Pd 1","9:10"],
      ["Pd 3","9:40"],
      ["Pd 5","10:12"],
      ["Pd 7","10:40"],
      ["U-Turn Mitte","11:47"],
      ["Gold 1","14:52"],
      ["Gold 3","15:22"],
      ["Gold 5","15:40"],
      ["Gold Stripper","16:11"],
      ["Zinn 1","17:20"],
      ["Zinn 3","17:41"],
      ["Zinn 5","18:03"],
      ["Zinn 7","18:25"],
      ["Zinn 9","19:00"],
      ["Zinn Stripper","19:25"],
      /* Nach-Fön war real 23:58 @ 6 m/min ⇒ @7 m/min ≈ 20:33 (entspricht hier 20:31 gerundet) */
      ["Nach-Fön","20:31"],
      /* Speicher war real 26:00 @ 6 m/min ⇒ @7 m/min ≈ 22:17 (entspricht hier) */
      ["Speicher","22:17"],
      /* NEU: Getriebe vor Befettung: real 30:00 @ 6 m/min ⇒ @7 m/min ≈ 25:43 */
      ["Getriebe vor Befettung","25:43"]
    ];

    /* --- Helfer --- */
    function zeitInSekunden(t){const[m,s]=t.split(":").map(Number);return m*60+s;}
    function dayOfYear(d=new Date()){
      const start=new Date(d.getFullYear(),0,0);
      const diff=d - start + ((start.getTimezoneOffset()-d.getTimezoneOffset())*60*1000);
      return Math.floor(diff/(1000*60*60*24));
    }
    function pick(arr){return arr[Math.floor(Math.random()*arr.length)];}

    /* --- UI init --- */
    const speedSel=document.getElementById("speedSel");
    for(let v=1;v<=12;v++){const o=document.createElement("option");o.value=v;o.textContent=v;if(v===7)o.selected=true;speedSel.appendChild(o);}
    const startSel=document.getElementById("startSel"),endSel=document.getElementById("endSel");
    punkte.forEach(([n])=>{startSel.add(new Option(n,n));endSel.add(new Option(n,n));});
    startSel.value="Start"; endSel.value="Hot Wash";

    /* --- Berechnung (Skalierung von 7 m/min auf v m/min) --- */
    function berechnenZeit(){
      const v=parseFloat(speedSel.value), s=startSel.value, e=endSel.value, out=document.getElementById("zeitResult");
      if(!v||!s||!e){out.textContent="Bitte Start, Ende und Geschwindigkeit wählen.";return;}
      const iS=punkte.findIndex(p=>p[0]===s), iE=punkte.findIndex(p=>p[0]===e);
      if(iS>iE){out.textContent="Rückwärtslauf ist nicht erlaubt.";return;}
      const tStart7=zeitInSekunden(punkte[iS][1]), tEnd7=zeitInSekunden(punkte[iE][1]);
      const d7=tEnd7 - tStart7;                // Differenz bei 7 m/min
      const total=Math.round(d7*(7/v));        // Skaliere auf v m/min
      const m=Math.floor(total/60), sec=total%60;
      out.textContent=`Von "${s}" bis "${e}" dauert es bei ${v.toFixed(0)} m/min etwa ${m} Minuten und ${sec} Sekunden.`;
      renderGeneral(); // Zitat auffrischen
    }
    document.getElementById("calcBtn").addEventListener("click", berechnenZeit);

    /* --- 365 feste Galvanik-Tipps (deterministisch aus Bausteinen) --- */
    const tipBereich=["Nickel","Palladium","Gold","Zinn","Spülen","Vorbehandlung","Kontaktierung","Anoden","Kathoden","Stripper","U-Turn","Trocknung"];
    const tipAktion=["Stromdichte prüfen","Temperaturfenster kontrollieren","pH stabil halten","Leitfähigkeit messen","Zugaben nach Analyse dosieren","Durchfluss erhöhen","Rühren optimieren","Filter prüfen oder wechseln","Anodenfilm inspizieren","Kontaktflächen reinigen","Bandführung justieren","Drag-Out minimieren","Oberflächenspannung senken","Proben dokumentieren","Stromrampe testen","Verweilzeit verifizieren","Luftblasen vermeiden","Spülkaskade überprüfen","Rückführung aktivieren","Dosiersperren prüfen","Anodenkörbe gleichmäßig verteilen","Ionenbelastung beobachten","Badoberfläche entspannen","Kathodenbewegung anpassen","Badansatz nach SOP prüfen"];
    const tipBed=["bei höherer Bandgeschwindigkeit","bei niedrigen Temperaturen","nach Stillstand","bei Qualitätsabweichungen","vor Schichtwechsel","nach Filterwechsel","bei geänderter Stromstärke","bei hoher Teilelast","bei Kantenunterdeckung","bei Fleckenbildung","bei steigender Rauheit","bei Glanzverlust"];
    const tipDetail=["Messwerte protokollieren","Soll/Ist vergleichen","Zeitstempel setzen","Kontaktfedern schonen","gleichmäßige Strömung sichern","Leitwert in der Spüle loggen","Badschaum entfernen","Rauheit dokumentieren","Fühler kalibrieren","Stromzuführung auf Erwärmung prüfen","Zugaben in kleinen Schritten vornehmen","Überläufe klar halten","Sicherheitskette testen"];
    function buildTip(i){
      const b=tipBereich[i%tipBereich.length];
      const a=tipAktion[(i*3)%tipAktion.length];
      const c=tipBed[(i*5+7)%tipBed.length];
      const d=tipDetail[(i*11+3)%tipDetail.length];
      switch(i%4){
        case 0: return `${b}: ${a} ${c} – ${d}.`;
        case 1: return `${b}: ${c}, daher ${a} (${d}).`;
        case 2: return `${b}: Zur Stabilität ${a}; zusätzlich ${d}.`;
        default: return `${b}: ${a}. Danach ${d}.`;
      }
    }
    const TIPS365=[...Array(365)].map((_,i)=>buildTip(i));
    document.getElementById('tipOfDay').textContent = TIPS365[(dayOfYear()-1)%365];

    /* --- Zitat des Tages (Allgemein): Autor, wenn bekannt --- */
    const KNOWN_QUOTES = [
      {text:"Der Weg ist das Ziel.", author:"Konfuzius (zugeschrieben)"},
      {text:"Alles fließt.", author:"Heraklit"},
      {text:"Wer rastet, der rostet.", author:"Sprichwort"},
      {text:"Auch aus Steinen, die einem in den Weg gelegt werden, kann man Schönes bauen.", author:"Goethe"},
      {text:"In der Ruhe liegt die Kraft.", author:"Sprichwort"},
      {text:"Wege entstehen dadurch, dass man sie geht.", author:"Franz Kafka"},
      {text:"Wissen ist Macht.", author:"Francis Bacon"},
      {text:"Man sieht nur mit dem Herzen gut.", author:"Antoine de Saint-Exupéry"},
      {text:"Ohne Daten nur Meinung.", author:"W. Edwards Deming"},
      {text:"Das Bessere ist der Feind des Guten.", author:"Voltaire"},
      {text:"Handle nur nach der Maxime, die du zugleich wollen kannst als allgemeines Gesetz.", author:"Immanuel Kant"},
      {text:"Nicht die Dinge beunruhigen uns, sondern die Meinungen über die Dinge.", author:"Epiktet"},
      {text:"Der Anfang ist die Hälfte des Ganzen.", author:"Aristoteles"},
      {text:"Per aspera ad astra.", author:"Lateinisches Motto"},
      {text:"Humor ist der Regenschirm der Weisen.", author:"Erich Kästner"},
      {text:"Der Mensch ist, was er täglich tut.", author:"Aristoteles"},
      {text:"Wer immer tut, was er schon kann, bleibt, was er ist.", author:"Henry Ford"},
      {text:"Die Einfachheit ist die höchste Stufe der Vollendung.", author:"Leonardo da Vinci"},
      {text:"Glück bevorzugt den Vorbereiteten.", author:"Louis Pasteur"},
      {text:"Erfahrung ist der Name, den jeder seinen Irrtümern gibt.", author:"Oscar Wilde"},
      {text:"Ohne Fleiß kein Preis.", author:"Sprichwort"},
      {text:"Kein Meister ist vom Himmel gefallen.", author:"Sprichwort"},
      {text:"Steter Tropfen höhlt den Stein.", author:"Sprichwort"},
      {text:"Ausdauer wird früher oder später belohnt.", author:"Sprichwort"},
      {text:"Auch der längste Weg beginnt mit dem ersten Schritt.", author:"Laozi (zugeschrieben)"},
      {text:"Der Zweck heiligt nicht die Mittel.", author:"Sprichwort"},
      {text:"Gib jedem Tag die Chance, der schönste deines Lebens zu werden.", author:"Mark Twain (zugeschrieben)"},
      {text:"Wer etwas will, findet Wege. Wer etwas nicht will, findet Gründe.", author:"Sprichwort"},
      {text:"Mut steht am Anfang des Handelns, Glück am Ende.", author:"Demokrit"},
      {text:"Die Grenzen meiner Sprache bedeuten die Grenzen meiner Welt.", author:"Ludwig Wittgenstein"},
      {text:"Der Kopf ist rund, damit das Denken die Richtung wechseln kann.", author:"Francis Picabia"},
      {text:"Probleme kann man niemals mit derselben Denkweise lösen, durch die sie entstanden sind.", author:"Albert Einstein (zugeschrieben)"}
    ];
    const qSub=["Mut","Geduld","Klarheit","Sorgfalt","Neugier","Fokus","Disziplin","Gelassenheit","Achtsamkeit","Verantwortung","Weitsicht","Bescheidenheit","Präzision","Qualität","Lernen","Übung","Ausdauer","Respekt","Teamgeist","Neuanfang","Ruhe","Tempo","Ordnung","Offenheit","Vertrauen","Humor","Logik","Intuition","Erfahrung","Neugierde"];
    const qVerb=["ist","bleibt","wirkt","schafft","bringt","führt zu","fordert","ermöglicht","ordnet","schärft"];
    const qPred=["leise — und stark","die Grundlage von Qualität","der beste Anfang","mehr als Tempo","Raum für Lösungen","Sicherheit im Prozess","Ruhe in der Entscheidung","Klarheit im Kopf","Reserven für schwere Tage","Wert statt Aufwand","den Unterschied","Zeit zum Nachdenken"];
    const qTail=["— Spruch","— Sprichwort","— Weisheit","— Leitsatz","— Werkstattregel"];
    function buildAph(i){return `${qSub[i%qSub.length]} ${qVerb[(i*7)%qVerb.length]} ${qPred[(i*13)%qPred.length]}. ${qTail[(i*17)%qTail.length]}`;}
    const QUOTES1000=(()=>{const arr=[]; for(let i=0;i<1000;i++) arr.push(buildAph(i)); return arr;})();
    const ALL_GENERAL_QUOTES=[...QUOTES1000, ...KNOWN_QUOTES];

    function renderGeneral(){
      const q=pick(ALL_GENERAL_QUOTES);
      if(typeof q==="string"){ document.getElementById('quoteGeneral').textContent=q; }
      else { document.getElementById('quoteGeneral').textContent=`${q.text} — ${q.author}`; }
    }
    renderGeneral();
  </script>
</section>

<script>
  const bS=document.getElementById("tabBtnStrom"), bZ=document.getElementById("tabBtnZeit");
  const pS=document.getElementById("tab-strom"), pZ=document.getElementById("tab-zeit");
  function activate(t){
    if(t==="strom"){bS.classList.add("active");bZ.classList.remove("active");pS.classList.add("active");pZ.classList.remove("active");}
    else{bZ.classList.add("active");bS.classList.remove("active");pZ.classList.add("active");pS.classList.remove("active");}
  }
  bS.addEventListener("click",()=>activate("strom"));
  bZ.addEventListener("click",()=>activate("zeit"));
</script>
</body>
</html>