<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Galvanik Tools – Strom & Zeit</title>
  <style>
    .topbar{position:sticky;top:0;background:#ffffffcc;backdrop-filter:blur(6px);border-bottom:1px solid #e5e7eb;padding:10px 12px;z-index:1000;display:flex;justify-content:center;gap:8px}
    .tabbtn{border:2px solid #002855;color:#002855;background:#fff;padding:10px 14px;border-radius:999px;cursor:pointer;font-weight:bold}
    .tabbtn.active{background:#F58025;color:#fff;border-color:#F58025}
    section.tab-pane{display:none}section.tab-pane.active{display:block}

    :root{--orange:#F58025;--darkblue:#002855;--lightgray:#f7f7f7;--text:#002855}
    body{
      font-family:Arial,sans-serif;background:linear-gradient(to bottom right,var(--lightgray),#ffffff);
      margin:0;
      padding:30px max(20px, env(safe-area-inset-left)) 30px max(20px, env(safe-area-inset-right));
      display:flex;justify-content:center;flex-direction:column;align-items:center
    }
    .container{width:100%;max-width:500px;background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.06);position:relative;margin-top:16px}
    @media (max-width: 430px){.container{padding:22px}label{font-size:16px}input,select,button{font-size:17px}.tabbtn{padding:10px 16px}}
    h2{text-align:center;color:var(--orange);margin-top:0}
    label{display:block;margin-top:16px;font-weight:bold;color:var(--darkblue)}
    input[type=number]{width:100%;padding:10px;font-size:18px;margin-top:5px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box}
    .geschwindigkeit-reihe{display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin-top:10px}
    .geschwindigkeit-reihe label{background:#fff;border:2px solid var(--darkblue);border-radius:50%;width:34px;height:34px;text-align:center;line-height:30px;font-weight:bold;cursor:pointer;font-size:14px;color:#002855;transition:.2s}
    .geschwindigkeit-reihe label:hover{border-color:#e46b00;color:#e46b00}
    .geschwindigkeit-reihe label.active{background-color:#F58025;color:#fff;border-color:#F58025}
    .ergebnis{margin-top:24px;padding:14px;background:#f0f0f0;font-size:20px;text-align:center;border-radius:8px;color:#F58025;border:1px solid #ccc}
    .haftungshinweis{text-align:center;font-size:12px;margin-top:10px;color:#888}
    #counter{position:fixed;bottom:4px;right:8px;font-size:10px;color:#ccc;font-family:monospace;opacity:.5;z-index:9999}

    .zeit-container .row{display:flex;gap:8px}
    .zeit-container select,.zeit-container button{width:100%;padding:10px;font-size:16px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box}
    .zeit-container button{background:#0066cc;color:#fff;border:none;font-weight:bold;cursor:pointer}
    .zeit-container button:hover{background:#004d99}
    .zeit-result{margin-top:16px;padding:12px;background:#e9f5e9;border-radius:6px;font-weight:bold;color:#0b4f0b;border:1px solid #bfe0bf}
    .zeit-tip{margin-top:12px;padding:10px;border-radius:6px;background:#fff7ea;border:1px solid #f2c58a;color:#8a5400;font-size:14px}
    .zeit-quote{margin-top:10px;padding:10px;border-radius:6px;background:#eef5ff;border:1px solid #cbdcff;color:#143a66;font-size:14px;font-style:italic}
  </style>
</head>
<body>

  <nav class="topbar">
    <button id="tabBtnStrom" class="tabbtn active">⚡ Stromrechner</button>
    <button id="tabBtnZeit" class="tabbtn">⏱️ Zeitrechner</button>
  </nav>

  <!-- Stromrechner -->
  <section id="tab-strom" class="tab-pane active">
    <div class="container">
      <h2>Galvanik-Stromrechner</h2>

      <label for="istStrom">Aktueller Strom (A):</label>
      <input type="number" id="istStrom" placeholder="z. B. 4">

      <label for="istSchicht">Aktuelle Schichtdicke (µm):</label>
      <input type="number" id="istSchicht" placeholder="z. B. 1.0">

      <label for="zielSchicht">Ziel-Schichtdicke (µm):</label>
      <input type="number" id="zielSchicht" placeholder="z. B. 2.5">

      <label>Aktuelle Bandgeschwindigkeit (m/min):</label>
      <div class="geschwindigkeit-reihe" id="istGeschw">
        <script>
          document.write([...Array(14)].map((_, i) => {
            const v = i + 3;
            return `<label data-value="${v}">${v}</label>`;
          }).join(''));
        </script>
      </div>

      <label>Neue Bandgeschwindigkeit (m/min):</label>
      <div class="geschwindigkeit-reihe" id="neuGeschw">
        <script>
          document.write([...Array(14)].map((_, i) => {
            const v = i + 3;
            return `<label data-value="${v}">${v}</label>`;
          }).join(''));
        </script>
      </div>

      <div class="ergebnis" id="ergebnis">Ergebnis wird hier angezeigt</div>
      <div class="haftungshinweis">Alle Angaben ohne Gewähr – es wird keine Haftung übernommen.</div>
    </div>

    <div id="counter"></div>

    <script>
      let istWert=null, neuWert=null;
      function setupAbwahl(containerId,isIst){
        const container=document.getElementById(containerId);
        const labels=container.querySelectorAll("label");
        labels.forEach(label=>{
          label.addEventListener("click",()=>{
            if(label.classList.contains("active")){
              label.classList.remove("active");
              if(isIst) istWert=null; else neuWert=null;
            }else{
              labels.forEach(l=>l.classList.remove("active"));
              label.classList.add("active");
              if(isIst) istWert=parseFloat(label.dataset.value);
              else neuWert=parseFloat(label.dataset.value);
            }
            berechne();
          });
        });
      }
      function berechne(){
        const I_alt=parseFloat(document.getElementById("istStrom").value);
        const S_alt=parseFloat(document.getElementById("istSchicht").value);
        const S_neu=parseFloat(document.getElementById("zielSchicht").value);
        if(!I_alt||!S_alt||!S_neu){document.getElementById("ergebnis").innerText="Bitte alle Werte eingeben.";return;}
        if(neuWert!==null&&istWert===null){document.getElementById("ergebnis").innerText="Bitte auch aktuelle Geschwindigkeit auswählen.";return;}
        const V_alt=istWert||neuWert||1, V_neu=neuWert||V_alt;
        const I_neu=I_alt*(S_neu/S_alt)*(V_neu/V_alt);
        document.getElementById("ergebnis").innerText=`Benötigter Strom: ${I_neu.toFixed(2)} A`;
      }
      document.querySelectorAll("input").forEach(i=>i.addEventListener("input",berechne));
      setupAbwahl("istGeschw",true);
      setupAbwahl("neuGeschw",false);
      const key="galvanikCounter"; let count=localStorage.getItem(key);
      count=count?parseInt(count)+1:1; localStorage.setItem(key,count);
      document.getElementById("counter").innerText=`#${count}`;
    </script>
  </section>

  <!-- Zeitrechner -->
  <section id="tab-zeit" class="tab-pane">
    <div class="container zeit-container">
      <h2>Galvanik-Zeitrechner</h2>

      <div class="row">
        <div style="flex:1">
          <label>Geschwindigkeit (m/min)</label>
          <select id="speedSel"></select>
        </div>
      </div>

      <div class="row">
        <div style="flex:1">
          <label>Startpunkt</label>
          <select id="startSel"></select>
        </div>
        <div style="flex:1">
          <label>Endpunkt</label>
          <select id="endSel"></select>
        </div>
      </div>

      <button id="calcBtn">Zeit berechnen</button>
      <div class="zeit-result" id="zeitResult">Bitte wähle Start, Ende und Geschwindigkeit.</div>
      <div class="zeit-tip" id="zeitTip" style="display:none;"></div>
      <div class="zeit-quote" id="zeitQuote" style="display:none;"></div>
    </div>

    <script>
      /* Zeitmarken */
      const punkte=[
        ["Start","0:00"],["Hot Wash","5:10"],["Nickel 1","6:32"],["Nickel 6","7:25"],["Nickel 12","8:27"],
        ["Pd 1","9:10"],["Pd 3","9:40"],["Pd 5","10:12"],["Pd 7","10:40"],["U-Turn Mitte","11:47"],
        ["Gold 1","14:52"],["Gold 3","15:22"],["Gold 5","15:40"],["Gold Stripper","16:11"],
        ["Zinn 1","17:20"],["Zinn 3","17:41"],["Zinn 5","18:03"],["Zinn 7","18:25"],
        ["Zinn 9","19:00"],["Zinn Stripper","19:25"],
        ["Nach-Fön","20:31"],["Speicher","22:17"]
      ];

      /* ===== TIPPGENERATOR: erzeugt >200 praxisnahe Tipps ===== */
      const tipParts = {
        bereich: ["Nickel","Palladium","Gold","Zinn","Spülen","Vorbehandlung","Kontaktierung","Anoden","Kathoden","Stripper","U-Turn","Trocknung"],
        aktion: [
          "Stromdichte prüfen","Temperaturfenster kontrollieren","pH stabil halten","Leitfähigkeit prüfen","Zugabe nach Analyse dosieren",
          "Durchfluss erhöhen","Rühren/Umwälzung optimieren","Filter wechseln","Anodenfilm inspizieren","Kontaktflächen reinigen",
          "Bandführung justieren","Tröpfchen/Drag-Out minimieren","Badoberfläche entspannen","Prozessproben dokumentieren",
          "Stromabschaltung testen","Rampenzeit anpassen","Zeit in Station verifizieren","Luftblasen vermeiden","Spülkaskade prüfen",
          "Rückführung aktivieren","Dosiersperre prüfen","Anoden/Körbe gleichmäßig verteilen","Ionenbelastung beobachten"
        ],
        bedingung: [
          "bei höherer Bandgeschwindigkeit","bei niedrigen Temperaturen","nach längeren Stillständen","bei neuem Ansatz",
          "bei Qualitätsabweichung","vor Schichtwechsel","nach Filterwechsel","bei veränderten Stromstärken",
          "bei hoher Teilelast","bei Schichtdickenabweichung","bei Kantenunterdeckung","bei Fleckenbildung"
        ],
        detail: [
          "Messwerte protokollieren","Soll-/Ist vergleichen","Probenahme mit Zeitstempel","Kontaktfedern nicht überlasten",
          "Gleichmäßige Strömung am Bauteil","Leitwert in der Spüle tracken","Anodenpolung nicht umkehren",
          "Badschaum entfernen","Rauheit dokumentieren","Temperaturfühler kalibrieren","Stromzuführung auf Erwärmung prüfen",
          "Not-Aus und Sicherheitskette testen","Zugabemengen in kleinen Schritten","Überlauf auf klare Spülen prüfen"
        ]
      };
      function buildTip(){
        const pick = a => a[Math.floor(Math.random()*a.length)];
        // kleine Variation mit Übergängen
        const tmpl = [
          `${pick(tipParts.bereich)}: ${pick(tipParts.aktion)} ${pick(tipParts.bedingung)} – ${pick(tipParts.detail)}.`,
          `${pick(tipParts.bereich)}: ${pick(tipParts.aktion)}; ${pick(tipParts.detail)}.`,
          `${pick(tipParts.bereich)}: ${pick(tipParts.bedingung)}, daher ${pick(tipParts.aktion)}.`,
          `${pick(tipParts.bereich)}: Zur Stabilität ${pick(tipParts.aktion)} und ${pick(tipParts.detail)}.`
        ];
        return pick(tmpl);
      }
      // Erzeuge mindestens 200 eindeutige Tipps
      const tipPool = (() => {
        const set = new Set();
        let guard = 0;
        while (set.size < 220 && guard < 10000) { set.add(buildTip()); guard++; }
        return Array.from(set);
      })();

      /* ===== ZITATE: großer Pool + Generator für zusätzliche Sinnsprüche ===== */
      // Kurze, bekannte (deutsche) Zitate & Sprichwörter (Auswahl)
      const quoteBase = [
        "In der Ruhe liegt die Kraft. — Sprichwort",
        "Der Weg ist das Ziel. — Konfuzius",
        "Wer wagt, gewinnt. — Sprichwort",
        "Ordnung ist das halbe Leben. — Sprichwort",
        "Qualität beginnt damit, die Bedürfnisse des Kunden zu erkennen. — W. Edwards Deming",
        "Der Erfolg hat viele Väter. — Sprichwort",
        "Ohne Fleiß kein Preis. — Sprichwort",
        "Zeit ist das, was man an der Uhr abliest. — Albert Einstein",
        "Wer aufgehört hat, besser zu werden, hat aufgehört, gut zu sein. — Philip Rosenthal",
        "Vertrauen ist gut, Kontrolle ist besser. — Sprichwort",
        "Auch aus Steinen, die einem in den Weg gelegt werden, kann man Schönes bauen. — Goethe",
        "Die Einfachheit ist die höchste Stufe der Vollendung. — Leonardo da Vinci",
        "Wege entstehen dadurch, dass man sie geht. — Franz Kafka",
        "Nicht die Dinge selbst beunruhigen uns, sondern die Meinung über die Dinge. — Epiktet",
        "Handle nur nach derjenigen Maxime, von der du wollen kannst, dass sie allgemeines Gesetz werde. — Immanuel Kant",
        "Die beste Vorbereitung für morgen ist, heute dein Bestes zu geben. — H. Jackson Brown Jr.",
        "Humor ist der Regenschirm der Weisen. — Erich Kästner",
        "Der Mensch ist, was er täglich tut. — Aristoteles",
        "Wer etwas will, findet Wege. Wer etwas nicht will, findet Gründe. — Sprichwort",
        "Man sieht nur mit dem Herzen gut. — Antoine de Saint-Exupéry",
        "Geduld ist die Kunst, langsam wütend zu werden. — Sprichwort",
        "Wer den Hafen nicht kennt, in den er segeln will, für den ist kein Wind der richtige. — Seneca",
        "Kleine Ursachen, große Wirkungen. — Sprichwort",
        "Gut ist nicht gut genug, wenn Besseres erwartet wird. — Thomas Fuller",
        "Das Bessere ist der Feind des Guten. — Voltaire",
        "Perfektion ist nicht erreichbar, aber Exzellenz. — frei nach Vince Lombardi",
        "Wissen ist Macht. — Francis Bacon",
        "Kein Meister ist vom Himmel gefallen. — Sprichwort",
        "Einfach mal machen. — Spruch",
        "Die Summe kleiner Dinge macht den Unterschied. — Spruch",
        "Sicherheit geht vor. — Sprichwort",
        "Ohne Daten nur Meinung. — W. Edwards Deming",
        "Wer rastet, der rostet. — Sprichwort",
        "Glück bevorzugt den Vorbereiteten. — Louis Pasteur",
        "Fehler sind Portale der Entdeckung. — James Joyce",
        "Die Zeit ist reif, wenn du es bist. — Spruch",
        "Wer immer tut, was er schon kann, bleibt, was er ist. — Henry Ford",
        "Das Ganze ist mehr als die Summe seiner Teile. — Aristoteles",
        "Der Anfang ist die Hälfte des Ganzen. — Aristoteles",
        "Alles fließt. — Heraklit",
        "Keine Nachrichten sind auch Nachrichten. — Sprichwort",
        "Kurzer Prozess, lange Wirkung? Besser umgekehrt. — Spruch",
        "Messen, nicht schätzen. — Spruch",
        "Jede Minute zählt. — Spruch",
        "Tue es ordentlich oder gar nicht. — Sprichwort",
        "Wer A sagt, muss nicht B sagen — er kann auch erkennen, dass A falsch war. — Bertolt Brecht",
        "Die Details sind nicht die Details; sie machen das Design. — Charles Eames",
        "Ohne Ziel kein Weg. — Spruch",
        "Qualität ist, wenn der Kunde zurückkommt, nicht das Produkt. — Spruch",
        "Alles hat seine Zeit. — Kohelet",
        "Das Gegenteil von gut ist gut gemeint. — Sprichwort",
        "Fokus ist, Nein zu sagen. — Steve Jobs",
        "Ein Problem ist halb gelöst, wenn es klar definiert ist. — Spruch",
        "Ein Lächeln kostet nichts. — Sprichwort",
        "Gute Arbeit braucht Ruhe. — Sprichwort",
        "Die Vielfalt ist unsere Stärke. — Spruch",
        "Wer langsamer geht, sieht mehr. — Sprichwort",
        "Steter Tropfen höhlt den Stein. — Sprichwort",
        "Erfahrung ist der Name, den jeder seinen Irrtümern gibt. — Oscar Wilde",
        "Der Zweck heiligt nicht die Mittel. — Sprichwort",
        "Konzentration schlägt Hektik. — Spruch",
        "Schnell ist gut, richtig ist besser. — Spruch",
        "Ein Schritt nach dem anderen. — Sprichwort",
        "Ausdauer wird früher oder später belohnt. — Sprichwort",
        "Respekt ist keine Einbahnstraße. — Spruch",
        "Klarheit schafft Geschwindigkeit. — Spruch",
        "Die Wahrheit liegt in den Daten. — Spruch"
      ];
      // Generator für zusätzliche kurze Sinnsprüche (ohne falsche Zuschreibung)
      const quoteGenA = ["Mut","Geduld","Klarheit","Sorgfalt","Neugier","Fokus","Humor","Disziplin","Leichtigkeit","Gelassenheit"];
      const quoteGenB = [
        "ist leise – und sehr stark.","gehört zum Handwerk.","macht den Anfang leicht.",
        "bringt dich weiter als Tempo.","macht Raum für Qualität.","ist ein täglicher Entschluss.",
        "öffnet Türen.","hält den Kurs.","schützt vor Chaos.","macht den Unterschied."
      ];
      function buildQuote(){
        const p = a => a[Math.floor(Math.random()*a.length)];
        return `${p(quoteGenA)} ${p(quoteGenB)} — Spruch`;
      }
      // Erzeuge Pool von ~500 Zitaten (Basis + Generator)
      const quotePool = (() => {
        const list = [...quoteBase];
        while (list.length < 520) list.push(buildQuote());
        return list;
      })();

      // Anti-Wiederholungs-Logik (Ringpuffer + localStorage)
      function makePicker(pool, storageKey, noRepeat=10){
        const hist = JSON.parse(localStorage.getItem(storageKey) || "[]");
        return function(){
          let tryCount = 0;
          let item;
          do {
            item = pool[Math.floor(Math.random()*pool.length)];
            tryCount++;
          } while (hist.includes(item) && tryCount < 50);
          hist.push(item);
          while (hist.length > noRepeat) hist.shift();
          localStorage.setItem(storageKey, JSON.stringify(hist));
          return item;
        };
      }
      const pickTip   = makePicker(tipPool,   "tipHistory",   20);
      const pickQuote = makePicker(quotePool, "quoteHistory", 40);

      // UI-Bindings
      const speedSel=document.getElementById("speedSel");
      for(let v=1;v<=12;v++){const o=document.createElement("option");o.value=v;o.textContent=v;if(v===7)o.selected=true;speedSel.appendChild(o);}
      const startSel=document.getElementById("startSel"),endSel=document.getElementById("endSel");
      punkte.forEach(([n])=>{startSel.add(new Option(n,n));endSel.add(new Option(n,n));});
      startSel.value="Start";endSel.value="Hot Wash";

      function zeitInSekunden(t){const[m,s]=t.split(":").map(Number);return m*60+s;}

      function berechnenZeit(){
        const v=parseFloat(speedSel.value),s=startSel.value,e=endSel.value,out=document.getElementById("zeitResult");
        if(!v||!s||!e){out.textContent="Bitte Start, Ende und Geschwindigkeit wählen.";return;}
        const iS=punkte.findIndex(p=>p[0]===s),iE=punkte.findIndex(p=>p[0]===e);
        if(iS>iE){out.textContent="Rückwärtslauf ist nicht erlaubt.";return;}
        const d7=zeitInSekunden(punkte[iE][1])-zeitInSekunden(punkte[iS][1]);
        const total = Math.round(d7*(7/v));
        const m = Math.floor(total/60), sec = total%60;
        out.textContent = `Von "${s}" bis "${e}" dauert es bei ${v.toFixed(0)} m/min etwa ${m} Minuten und ${sec} Sekunden.`;

        // Tipp + Zitat anzeigen (wechselnd, ohne Dauerwiederholung)
        const tipEl=document.getElementById("zeitTip");
        tipEl.textContent = "Tipp: " + pickTip();
        tipEl.style.display="block";

        const qEl=document.getElementById("zeitQuote");
        qEl.textContent = "Zitat: " + pickQuote();
        qEl.style.display="block";
      }

      document.getElementById("calcBtn").addEventListener("click", berechnenZeit);
    </script>
  </section>

  <script>
    const bS=document.getElementById("tabBtnStrom"),bZ=document.getElementById("tabBtnZeit");
    const pS=document.getElementById("tab-strom"),pZ=document.getElementById("tab-zeit");
    function activate(t){
      if(t==="strom"){bS.classList.add("active");bZ.classList.remove("active");pS.classList.add("active");pZ.classList.remove("active");}
      else{bZ.classList.add("active");bS.classList.remove("active");pZ.classList.add("active");pS.classList.remove("active");}
    }
    bS.addEventListener("click",()=>activate("strom"));
    bZ.addEventListener("click",()=>activate("zeit"));
  </script>
</body>
</html>